{"version":3,"sources":["assets/images/user.png","api/api.js","redux/dialogs-reducer.js","assets/images/logo.png","components/common/Paginator/Paginator.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.module.css","assets/images/404.png","components/common/NotFound/NotFound.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-recuder.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","components/common/NotFound/NotFound.jsx","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormsControls/FormControls.module.css","components/Users/users.module.css","components/Header/Header.module.css","utils/validators/validators.js","redux/profile-reducer.js"],"names":["module","exports","__webpack_require__","p","d","__webpack_exports__","usersAPI","profileAPI","authAPI","securityAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","baseURL","withCredentials","headers","API-KEY","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","follow","userId","post","unfollow","delete","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","Content-Type","saveProfile","profile","me","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","initialState","dialogs","id","name","messages","message","newMessageBody","sendMessageCreator","type","dialogsReducer","state","action","body","Object","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","paginator","pageNumber","selectedPage","preloader","wrapper","nav","item","activeLink","FormControl","_ref","input","_ref$meta","meta","touched","error","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","styles","formControl","Textarea","props","restProps","child","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign","Input","createField","placeholder","validators","component","text","formControlWrapper","redux_form__WEBPACK_IMPORTED_MODULE_3__","validate","Boolean","window","location","hostname","match","Header","react_default","classes","header","react_router_dom","to","titleBlock","src","logo","alt","loginBlock","isAuth","Button","variant","onClick","authBtn","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","asyncToGenerator","regenerator_default","mark","_callee","dispatch","_response$data$data","_login","wrap","_context","prev","next","sent","resultCode","stop","_x","apply","this","_ref3","_callee3","_context3","url","_x3","authReducer","objectSpread","HeaderContainer","components_Header_Header","React","Component","connect","auth","_ref4","_callee4","_context4","_x4","Navbar","activeClassName","updateObjectInArray","items","itemId","objPropName","newObjProps","map","user","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","_ref2","_callee2","apiMethod","actionCreator","_context2","_x2","_x5","usersReducer","followed","count","toConsumableArray","filter","Paginator","totalItemsCount","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","Pagination","cn","Prev","page","Item","active","key","e","Next","User","userWrapper","defineProperty","photos","small","userPhoto","disabled","some","Users","objectWithoutProperties","common_Paginator_Paginator","usersContainer","Users_User","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","_this","setCurrentPage","requestUsers","_this$props","Fragment","Preloader","components_Users_Users","compose","bind","_x6","_x7","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","passowrd","stopSubmit","_error","react_router","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebarPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","NotFound","notFound","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","alert","console","log","initializeApp","addEventListener","removeEventListener","Header_HeaderContainer","components_Navbar_Navbar","exact","path","render","Users_UsersContainer","components_Login_Login","common_NotFound_NotFound","AppContainer","withRouter","Promise","all","SamuraiApp","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_preloader_svg__WEBPACK_IMPORTED_MODULE_1___default","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_2__","_Preloader_module_css__WEBPACK_IMPORTED_MODULE_2___default","maxLengthCreator","value","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","t0","file","_ref5","_callee5","getState","_context5","abrupt","reject","newPost","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","C_Users_Mary_Documents_React_projects_01_my_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","postId"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCD,EAAAE,EAAAC,EAAA,sBAAAC,IAAAJ,EAAAE,EAAAC,EAAA,sBAAAE,IAAAL,EAAAE,EAAAC,EAAA,sBAAAG,IAAAN,EAAAE,EAAAC,EAAA,sBAAAI,IAAA,IAAAC,EAAAR,EAAA,KAEMS,EAAWC,SAAa,CAC1BC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACLC,UAAW,0CAINV,EAAW,CACpBW,SADoB,WACqB,IAAhCC,EAAgCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlB,EAAGG,EAAeH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAJ,GACjC,OAAOR,EAASY,IAAT,cAAAC,OAA2BN,EAA3B,WAAAM,OAAgDF,IAClDG,KAAK,SAAAC,GAAc,OAAOA,EAASC,QAE5CC,OALoB,SAKbC,GACH,OAAOlB,EAASmB,KAAT,UAAAN,OAAwBK,IAC1BJ,KAAK,SAAAC,GAAc,OAAOA,EAASC,QAE5CI,SAToB,SASXF,GACL,OAAOlB,EAASqB,OAAT,UAAAR,OAA0BK,IAC5BJ,KAAK,SAAAC,GAAc,OAAOA,EAASC,QAE5CM,WAboB,SAaTJ,GACPtB,EAAW0B,WAAWJ,KAIjBtB,EAAa,CACtB0B,WADsB,SACXJ,GACP,OAAOlB,EAASY,IAAT,WAAAC,OAAwBK,KAEnCK,UAJsB,SAIZL,GACN,OAAOlB,EAASY,IAAT,kBAAAC,OAA+BK,KAE1CM,aAPsB,SAOTC,GACT,OAAOzB,EAAS0B,IAAT,iBAA+B,CAAED,OAAQA,KAEpDE,UAVsB,SAUZC,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB5B,EAAS0B,IAAT,gBAA8BG,EAAU,CAC3CzB,QAAS,CACL4B,eAAgB,0BAI5BC,YAnBsB,SAmBVC,GACR,OAAOlC,EAAS0B,IAAI,UAAWQ,KAI1BrC,EAAU,CACnBsC,GADmB,WAEf,OAAOnC,EAASY,IAAI,YAExBwB,MAJmB,SAIbC,EAAOC,GAA8C,IAApCC,EAAoC/B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAAhBgC,EAAgBhC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KACjD,OAAOR,EAASmB,KAAK,aAAc,CAAEkB,QAAOC,WAAUC,aAAYC,aAEtEC,OAPmB,WAQf,OAAOzC,EAASqB,OAAO,gBAIlBvB,EAAc,CACvB4C,cADuB,WAEnB,OAAO1C,EAASY,IAAI,mHChExB+B,EAAe,CACfC,QAAS,CACL,CAAEC,GAAI,EAAGC,KAAM,SACf,CAAED,GAAI,EAAGC,KAAM,UAEnBC,SAAU,CACN,CAAEF,GAAI,EAAGG,QAAS,MAClB,CAAEH,GAAI,EAAGG,QAAS,OAClB,CAAEH,GAAI,EAAGG,QAAS,SAEtBC,eAAgB,IAePC,EAAqB,SAACD,GAAD,MAAqB,CAAEE,KA3BpC,eA2BwDF,mBAE9DG,IAdQ,WAAkC,IAAjCC,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,EAAcW,EAAW9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAQ4C,EAAOH,MACX,IAjBa,eAkBT,IAAII,EAAOD,EAAOL,eAClB,OAAOO,OAAAC,EAAA,EAAAD,CAAA,GACAH,EADP,CAEIN,SAAQ,GAAAlC,OAAA2C,OAAAE,EAAA,EAAAF,CAAMH,EAAMN,UAAZ,CAAsB,CAAEF,GAAI,EAAGG,QAASO,OAExD,QAAS,OAAOF,yBCvBxBhE,EAAAC,QAAiBC,EAAAC,EAAuB,sDCCxCH,EAAAC,QAAA,CAAkBqE,UAAA,6BAAAC,WAAA,8BAAAC,aAAA,sDCDlBxE,EAAAC,QAAiBC,EAAAC,EAAuB,2DCCxCH,EAAAC,QAAA,CAAkBwE,UAAA,mDCDlBzE,EAAAC,QAAiBC,EAAAC,EAAuB,qDCCxCH,EAAAC,QAAA,CAAkByE,QAAA,2GCAlB1E,EAAAC,QAAA,CAAkB0E,IAAA,oBAAAC,KAAA,qBAAAC,WAAA,wOCGZC,EAAc,SAAAC,GAAmDA,EAAhDC,MAAgD,IAAAC,EAAAF,EAAzCG,KAAQC,EAAiCF,EAAjCE,QAASC,EAAwBH,EAAxBG,MAASC,EAAeN,EAAfM,SAC9CC,EAAWH,GAAWC,EAC5B,OACIG,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOC,YAAc,KAAON,EAAWK,IAAOP,MAAQ,KAClEG,EAAAC,EAAAC,cAAA,WACKJ,GAELE,EAAAC,EAAAC,cAAA,WACKH,GAAYC,EAAAC,EAAAC,cAAA,YAAOL,MAMvBS,EAAW,SAACC,GAAU,IACvBd,EAAqCc,EAArCd,MAAuBe,GAAcD,EAA9BZ,KAA8BY,EAAxBE,MADU7B,OAAA8B,EAAA,EAAA9B,CACc2B,EADd,2BAE/B,OAAQP,EAAAC,EAAAC,cAACX,EAAgBgB,EAAOP,EAAAC,EAAAC,cAAA,WAAAtB,OAAA+B,OAAA,GAAclB,EAAWe,MAGhDI,EAAQ,SAACL,GAAU,IACpBd,EAAqCc,EAArCd,MAAuBe,GAAcD,EAA9BZ,KAA8BY,EAAxBE,MADO7B,OAAA8B,EAAA,EAAA9B,CACiB2B,EADjB,2BAE5B,OAAQP,EAAAC,EAAAC,cAACX,EAAgBgB,EAAOP,EAAAC,EAAAC,cAAA,QAAAtB,OAAA+B,OAAA,GAAWlB,EAAWe,MAG7CK,EAAc,SAACC,EAAa5C,EAAM6C,EAAYC,GAAhC,IAA2CT,EAA3C3E,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAmD,GAAIqF,EAAvDrF,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAA8D,GAA9D,OAAsEoE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOc,oBACpHlB,EAAAC,EAAAC,cAACiB,EAAA,EAADvC,OAAA+B,OAAA,CAAOG,YAAaA,EAAa5C,KAAMA,EACnC8C,UAAWA,EAAWI,SAAUL,GAC5BR,IACPU,6CCpBeI,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,6MCWSC,EAvBA,SAACnB,GACZ,OAAQoB,EAAA1B,EAAAC,cAAA,UAAQC,UAAWyB,IAAQC,QAC/BF,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAI,KACTJ,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQI,YACpBL,EAAA1B,EAAAC,cAAA,OAAK+B,IAAKC,IAAMC,IAAI,KACpBR,EAAA1B,EAAAC,cAAA,8BAGRyB,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQQ,YAEhB7B,EAAM8B,OACAV,EAAA1B,EAAAC,cAAA,WACEyB,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAI,YAAaxB,EAAM/C,OADlC,MACqDmE,EAAA1B,EAAAC,cAACoC,EAAA,EAAD,CAAQC,QAAQ,SAASC,QAASjC,EAAM1C,OAAQsC,UAAWyB,IAAQa,SAAnE,aAErDd,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAI,UACXJ,EAAA1B,EAAAC,cAACoC,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAASjC,EAAM1C,OAAQsC,UAAWyB,IAAQa,SAApE,oECfpB1E,EAAe,CACfzB,OAAQ,KACRmB,MAAO,KACPD,MAAO,KACP6E,QAAQ,EACRK,WAAY,MAeHC,EAAkB,SAACrG,EAAQmB,EAAOD,EAAO6E,GAAvB,MAC1B,CAAE9D,KAxBe,qCAwBMqE,QAAS,CAAEtG,SAAQmB,QAAOD,QAAO6E,YAGhDQ,EAAuB,SAACH,GAAD,MAC/B,CAAEnE,KA3BwB,+CA2BOqE,QAAS,CAAEF,gBAGpCI,EAAkB,iCAAAtD,EAAAZ,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAM,SAAAC,EAAOC,GAAP,IAAAhH,EAAAiH,EAAAnF,EAAAR,EAAA4F,EAAA,OAAAL,EAAA/C,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACZxI,IAAQsC,KADI,OAEA,KAD7BpB,EAD6BoH,EAAAG,MAEpBtH,KAAKuH,aAAkBP,EACLjH,EAASC,KAAKA,KAAnC6B,EAD0BmF,EAC1BnF,GAAIR,EADsB2F,EACtB3F,MAAOD,EADe4F,EACf5F,MACjB2F,EAASR,EAAgB1E,EAAIR,EAAOD,GAAO,KAJd,wBAAA+F,EAAAK,SAAAV,MAAN,gBAAAW,GAAA,OAAArE,EAAAsE,MAAAC,KAAAnI,YAAA,IAqBlBkC,EAAgB,iCAAAkG,EAAApF,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAM,SAAAgB,EAAOd,GAAP,IAAAhH,EAAAuG,EAAA,OAAAM,EAAA/C,EAAAqD,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAT,KAAA,EACRvI,IAAY4C,gBADJ,OACzB3B,EADyB+H,EAAAR,KAEzBhB,EAAavG,EAASC,KAAK+H,IACjChB,EAASN,EAAqBH,IAHC,wBAAAwB,EAAAN,SAAAK,MAAN,gBAAAG,GAAA,OAAAJ,EAAAF,MAAAC,KAAAnI,YAAA,IAadyI,EAtDK,WAAkC,IAAjC5F,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,EAAcW,EAAW9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAClD,OAAQ4C,EAAOH,MACX,IAbc,qCAcd,IAbuB,+CAcnB,OAAOK,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EACAC,EAAOkE,SAElB,QAAS,OAAOnE,ICjBlB8F,mLAEE,OAAO5C,EAAA1B,EAAAC,cAACsE,EAAWT,KAAKxD,cAFFkE,IAAMC,WAWrBC,cALS,SAAClG,GAAD,MAAY,CAChC4D,OAAQ5D,EAAMmG,KAAKvC,OACnB7E,MAAOiB,EAAMmG,KAAKpH,QAGkB,CAAEK,OD6CpB,iCAAAgH,EAAAjG,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAM,SAAA6B,EAAO3B,GAAP,OAAAH,EAAA/C,EAAAqD,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAAsB,EAAAtB,KAAA,EACHxI,IAAQ4C,SADL,OAES,IAFTkH,EAAArB,KAEXtH,KAAKuH,YACdR,EAASR,EAAgB,KAAM,KAAM,MAAM,IAHvB,wBAAAoC,EAAAnB,SAAAkB,MAAN,gBAAAE,GAAA,OAAAH,EAAAf,MAAAC,KAAAnI,YAAA,KC7CP+I,CAAqCJ,oBCWrCU,EAvBA,WACX,OAAQtD,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQxC,KAC5BuC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,WAAWmD,gBAAiBtD,IAAQtC,YAAhD,YAEJqC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,WAAWmD,gBAAiBtD,IAAQtC,YAAhD,aAEJqC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,SAASmD,gBAAiBtD,IAAQtC,YAA9C,UAEJqC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,QAAQmD,gBAAiBtD,IAAQtC,YAA7C,SAEJqC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,SAASmD,gBAAiBtD,IAAQtC,YAA9C,UAEJqC,EAAA1B,EAAAC,cAAA,OAAKC,UAAWyB,IAAQvC,MACpBsC,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAG,YAAYmD,gBAAiBtD,IAAQtC,YAAjD,+BCtBC6F,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC5D,OAAOH,EAAMI,IAAI,SAAAC,GACb,OAAIA,EAAKH,KAAiBD,EACfzG,OAAA0F,EAAA,EAAA1F,CAAA,GAAK6G,EAASF,GAElBE,KCMX1H,EAAe,CACf2H,MAAO,GACP3J,SAAU,GACV4J,gBAAiB,EACjBhK,YAAa,EACbiK,YAAY,EACZC,oBAAqB,IAgDZC,EAAgB,SAACxJ,GAAD,MAAa,CAAEiC,KA9D7B,SA8D2CjC,WAC7CyJ,EAAkB,SAACzJ,GAAD,MAAa,CAAEiC,KA9D7B,WA8D6CjC,WACjD0J,EAAW,SAACN,GAAD,MAAY,CAAEnH,KA9DpB,YA8DqCmH,UAG1CO,EAAmB,SAACL,GAAD,MAAiB,CAAErH,KA9DxB,qBA8DkDqH,eAChEM,EAA0B,SAACN,EAAYtJ,GAAb,MAAyB,CAAEiC,KA9DtC,sBA8DiEqH,aAAYtJ,WAYnG6J,EAAkB,eAAAC,EAAAxH,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAG,SAAAoD,EAAOlD,EAAU7G,EAAQgK,EAAWC,GAApC,OAAAvD,EAAA/C,EAAAqD,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cACvBN,EAAS+C,GAAwB,EAAM5J,IADhBkK,EAAA/C,KAAA,EAEN6C,EAAUhK,GAFJ,OAGC,IAHDkK,EAAA9C,KAGdC,YAAkBR,EAASoD,EAAcjK,IAClD6G,EAAS+C,GAAwB,EAAO5J,IAJjB,wBAAAkK,EAAA5C,SAAAyC,MAAH,gBAAAI,EAAArC,EAAAY,EAAA0B,GAAA,OAAAN,EAAAtC,MAAAC,KAAAnI,YAAA,GAmBT+K,EAlFM,WAAkC,IAAjClI,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,EAAcW,EAAW9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAEnD,OAAQ4C,EAAOH,MACX,IApBO,SAqBH,OAAOK,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIiH,MAAOP,EAAoB1G,EAAMiH,MAAOhH,EAAOpC,OAAQ,KAAM,CAAEsK,UAAU,MAEjF,IAxBS,WAyBL,OAAOhI,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIiH,MAAOP,EAAoB1G,EAAMiH,MAAOhH,EAAOpC,OAAQ,KAAM,CAAEsK,UAAU,MAEjF,IA5BU,YA6BN,OAAOhI,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIiH,MAAOhH,EAAOgH,QAEtB,IAhCiB,mBAiCb,OAAO9G,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEI9C,YAAa+C,EAAO/C,cAE5B,IApCsB,wBAqClB,OAAOiD,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIkH,gBAAiBjH,EAAOmI,QAEhC,IAxCmB,qBAyCf,OAAOjI,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEImH,WAAYlH,EAAOkH,aAE3B,IA5CoB,sBA6ChB,OAAOhH,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIoH,oBAAqBnH,EAAOkH,WAAP,GAAA3J,OAAA2C,OAAAkI,EAAA,EAAAlI,CACXH,EAAMoH,qBADK,CACgBnH,EAAOpC,SADvBsC,OAAAkI,EAAA,EAAAlI,CAEXH,EAAMoH,oBAAoBkB,OAAO,SAAA9I,GAAE,OAAIA,IAAOS,EAAOpC,YAEvE,QACI,OAAOmC,iECxBJuI,GAhCC,SAAAxH,GAGZ,IAH6F,IAA9EyH,EAA8EzH,EAA9EyH,gBAAiBlL,EAA6DyD,EAA7DzD,SAAUJ,EAAmD6D,EAAnD7D,YAAauL,EAAsC1H,EAAtC0H,cAAsCC,EAAA3H,EAAvB4H,mBAAuB,IAAAD,EAAT,GAASA,EACzFE,EAAaC,KAAKC,KAAKN,EAAkBlL,GACzCyL,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAAKD,EAAME,KAAKD,GAEjD,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GALmDQ,EAMrDC,mBAAS,GAN4CC,EAAAlJ,OAAAmJ,EAAA,EAAAnJ,CAAAgJ,EAAA,GAMxFI,EANwFF,EAAA,GAMzEG,EANyEH,EAAA,GAOzFI,GAAyBF,EAAgB,GAAKZ,EAAc,EAC5De,EAAyBH,EAAgBZ,EAE7C,OACIzF,EAAA1B,EAAAC,cAACkI,GAAA,EAAD,CAAYjI,UAAWkI,IAAGjI,IAAOrB,YAC5BiJ,EAAgB,GACbrG,EAAA1B,EAAAC,cAACkI,GAAA,EAAWE,KAAZ,CAAiB9F,QAAS,WAAQyF,EAAiBD,EAAgB,MAEtER,EACIT,OAAO,SAAAwB,GAAI,OAAIA,GAAQL,GAAyBK,GAAQJ,IACxD3C,IAAI,SAAC+C,GACF,OAAO5G,EAAA1B,EAAAC,cAACkI,GAAA,EAAWI,KAAZ,CAAiBC,OAAQ9M,IAAgB4M,EAC5CG,IAAKH,EACL/F,QAAS,SAACmG,GACNzB,EAAcqB,KACdA,KAGfZ,EAAeK,GACZrG,EAAA1B,EAAAC,cAACkI,GAAA,EAAWQ,KAAZ,CAAiBpG,QAAS,WAAQyF,EAAiBD,EAAgB,0DCOpEa,GA/BJ,SAAArJ,GAAqD,IAAlDiG,EAAkDjG,EAAlDiG,KAAMI,EAA4CrG,EAA5CqG,oBAAqBrJ,EAAuBgD,EAAvBhD,SAAUH,EAAamD,EAAbnD,OAC/C,OAAQsF,EAAA1B,EAAAC,cAAA,OAAKC,UAAWkI,IAAGjI,KAAO0I,YAARlK,OAAAmK,GAAA,EAAAnK,CAAA,GAAwBwB,KAAOwG,SAAWnB,EAAKmB,YACrEjF,EAAA1B,EAAAC,cAAA,YACIyB,EAAA1B,EAAAC,cAAA,WACIyB,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,CAASC,GAAI,YAAc0D,EAAKxH,IAC5B0D,EAAA1B,EAAAC,cAAA,OAAK+B,IAA0B,MAArBwD,EAAKuD,OAAOC,MAAgBxD,EAAKuD,OAAOC,MAAQC,KAAW/I,UAAWC,KAAO8I,UAAW/G,IAAI,OAG9GR,EAAA1B,EAAAC,cAAA,WACKuF,EAAKmB,SACAjF,EAAA1B,EAAAC,cAACoC,EAAA,EAAD,CAAQC,QAAQ,SAAS4G,SAAUtD,EAAoBuD,KAAK,SAAAnL,GAAE,OAAIA,IAAOwH,EAAKxH,KAAKuE,QAAS,WAC1FhG,EAASiJ,EAAKxH,MADhB,YAGA0D,EAAA1B,EAAAC,cAACoC,EAAA,EAAD,CAAQC,QAAQ,UAAU4G,SAAUtD,EAAoBuD,KAAK,SAAAnL,GAAE,OAAIA,IAAOwH,EAAKxH,KAAKuE,QAAS,WAC3FnG,EAAOoJ,EAAKxH,MADd,YAKd0D,EAAA1B,EAAAC,cAAA,YACIyB,EAAA1B,EAAAC,cAAA,YACIyB,EAAA1B,EAAAC,cAAA,WAAMuF,EAAKvH,MACXyD,EAAA1B,EAAAC,cAAA,WAAMuF,EAAK5I,SAEf8E,EAAA1B,EAAAC,cAAA,YACIyB,EAAA1B,EAAAC,cAAA,WAAM,yBACNyB,EAAA1B,EAAAC,cAAA,WAAM,0BCZPmJ,GAfH,SAAA7J,GAAyE,IAAtE7D,EAAsE6D,EAAtE7D,YAAauL,EAAyD1H,EAAzD0H,cAAenL,EAA0CyD,EAA1CzD,SAAU4J,EAAgCnG,EAAhCmG,gBAAoBpF,EAAY3B,OAAA0K,EAAA,EAAA1K,CAAAY,EAAA,8DACjF,OAAOmC,EAAA1B,EAAAC,cAAA,WACHyB,EAAA1B,EAAAC,cAACqJ,GAAD,CAAW5N,YAAaA,EAAasL,gBAAiBtB,EAClDuB,cAAeA,EAAenL,SAAUA,IAC5C4F,EAAA1B,EAAAC,cAAA,OAAKC,UAAWC,KAAOoJ,gBACnBjJ,EAAMmF,MAAMF,IAAI,SAAAC,GAAI,OAChB9D,EAAA1B,EAAAC,cAACuJ,GAAD,CAAMf,IAAKjD,EAAKxH,GAAIwH,KAAMA,EACtBI,oBAAqBtF,EAAMsF,oBAC3BxJ,OAAQkE,EAAMlE,OAAQG,SAAU+D,EAAM/D,2CCP7Cd,GAAWgO,aAJQ,SAACjL,GAC7B,OAAOA,EAAMkL,UAAUjE,OAG8B,SAACA,GACtD,OAAOA,EAAMqB,OAAO,SAAAtB,GAAI,OAAI,MAGnBmE,GAAc,SAACnL,GACxB,OAAOA,EAAMkL,UAAU5N,UAGd8N,GAAqB,SAACpL,GAC/B,OAAOA,EAAMkL,UAAUhE,iBAGdmE,GAAiB,SAACrL,GAC3B,OAAOA,EAAMkL,UAAUhO,aAGdoO,GAAgB,SAACtL,GAC1B,OAAOA,EAAMkL,UAAU/D,YAGdoE,GAAyB,SAACvL,GACnC,OAAOA,EAAMkL,UAAU9D,qBCnBrBoE,8MAOF/C,cAAgB,SAAClI,GAAe,IACrBjD,EAAYmO,EAAK3J,MAAjBxE,SACPmO,EAAK3J,MAAM4J,eAAenL,GAC1BkL,EAAK3J,MAAM6J,aAAapL,EAAYjD,uFARpB,IAAAsO,EACgBtG,KAAKxD,MAA9B5E,EADS0O,EACT1O,YAAaI,EADJsO,EACItO,SACpBgI,KAAKxD,MAAM6J,aAAazO,EAAaI,oCAUrC,OAAO4F,EAAA1B,EAAAC,cAAAyB,EAAA1B,EAAAqK,SAAA,KACFvG,KAAKxD,MAAMqF,WAAajE,EAAA1B,EAAAC,cAACqK,GAAA,EAAD,MAAgB,KACzC5I,EAAA1B,EAAAC,cAACsK,GAAD,CACI7O,YAAaoI,KAAKxD,MAAM5E,YACxBI,SAAUgI,KAAKxD,MAAMxE,SACrB4J,gBAAiB5B,KAAKxD,MAAMoF,gBAC5BuB,cAAenD,KAAKmD,cACpBxB,MAAO3B,KAAKxD,MAAMmF,MAClBrJ,OAAQ0H,KAAKxD,MAAMlE,OACnBG,SAAUuH,KAAKxD,MAAM/D,SACrBqJ,oBAAqB9B,KAAKxD,MAAMsF,8BAxBnBpB,IAAMC,WAyCpB+F,gBACX9F,YAZmB,SAAClG,GACpB,MAAO,CACHiH,MAAOhK,GAAS+C,GAChB1C,SAAU6N,GAAYnL,GACtBkH,gBAAiBkE,GAAmBpL,GACpC9C,YAAamO,GAAerL,GAC5BmH,WAAYmE,GAActL,GAC1BoH,oBAAqBmE,GAAuBvL,KAKtB,CACtBpC,OLuCc,SAACC,GACnB,sBAAA0H,EAAApF,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAO,SAAAgB,EAAOd,GAAP,OAAAH,EAAA/C,EAAAqD,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,OACH0C,EAAmBhD,EAAU7G,EAAQvB,IAASsB,OAAOqO,KAAK3P,KAAW+K,GADlE,wBAAA5B,EAAAN,SAAAK,MAAP,gBAAA0G,GAAA,OAAA3G,EAAAF,MAAAC,KAAAnI,YAAA,IKvCIY,SL4CgB,SAACF,GACrB,sBAAAuI,EAAAjG,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAO,SAAA6B,EAAO3B,GAAP,OAAAH,EAAA/C,EAAAqD,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,OACH0C,EAAmBhD,EAAU7G,EAAQvB,IAASyB,SAASkO,KAAK3P,KAAWgL,GADpE,wBAAAhB,EAAAnB,SAAAkB,MAAP,gBAAA8F,GAAA,OAAA/F,EAAAf,MAAAC,KAAAnI,YAAA,IK5CIoK,WACAmE,eLcsB,SAACxO,GAAD,MAAkB,CAAE4C,KA9DzB,mBA8DiD5C,gBKblEuK,0BACAkE,aLiBoB,SAACzO,EAAaI,GACtC,sBAAAyD,EAAAZ,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAAO,SAAAC,EAAOC,GAAP,IAAA/G,EAAA,OAAA4G,EAAA/C,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHN,EAAS8C,GAAiB,IADvB1C,EAAAE,KAAA,EAEc1I,IAASW,SAASC,EAAaI,GAF7C,OAECK,EAFDmH,EAAAG,KAGHP,EAAS8C,GAAiB,IAC1B9C,EAAS6C,EAAS5J,EAAKgJ,QACvBjC,EAVgD,CAAE5E,KA9D5B,wBA8DyDsI,MAUnDzK,EAAKyO,aAL9B,wBAAAtH,EAAAK,SAAAV,MAAP,gBAAAW,GAAA,OAAArE,EAAAsE,MAAAC,KAAAnI,YAAA,MKzBW6O,CASbR,oDC5BIa,GAAiBC,aAAU,CAAEC,KAAM,SAAlBD,CApBL,SAAAvL,GAAyC,IAAtCyL,EAAsCzL,EAAtCyL,aAAcpL,EAAwBL,EAAxBK,MAAO6C,EAAiBlD,EAAjBkD,WACtC,OACIf,EAAA1B,EAAAC,cAAA,QAAMgL,SAAUD,GACXpK,aAAY,QAAS,QAAS,CAACsK,MAAWvK,MAC1CC,aAAY,WAAY,WAAY,CAACsK,MAAWvK,KAAO,CAAErC,KAAM,aAC/DsC,aAAY,aAAc,WAAY,GAAID,KAAO,CAAErC,KAAM,YAAc,eAEvEmE,GAAcf,EAAA1B,EAAAC,cAAA,OAAK+B,IAAKS,EAAYP,IAAI,KACxCO,GAAc7B,aAAY,qBAAsB,UAAW,CAACsK,MAAWvK,MAEvEf,GAAS8B,EAAA1B,EAAAC,cAAA,OAAKC,UAAWC,KAAOgL,kBAC5BvL,GAEL8B,EAAA1B,EAAAC,cAAA,WACIyB,EAAA1B,EAAAC,cAACoC,EAAA,EAAD,CAAQC,QAAQ,UAAUhE,KAAK,UAA/B,aA8BDoG,eALS,SAAClG,GAAD,MAAY,CAChCiE,WAAYjE,EAAMmG,KAAKlC,WACvBL,OAAQ5D,EAAMmG,KAAKvC,SAGiB,CAAE7E,MVZrB,SAACC,EAAO4N,EAAU1N,EAAYC,GAA9B,sBAAAwI,EAAAxH,OAAAmE,EAAA,EAAAnE,CAAAoE,EAAA/C,EAAAgD,KAA0C,SAAAoD,EAAOlD,GAAP,IAAAhH,EAAAiC,EAAA,OAAA4E,EAAA/C,EAAAqD,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACtCxI,IAAQuC,MAAMC,EAAO4N,EAAU1N,EAAYC,GADL,OAE1B,KAD7BzB,EADuDqK,EAAA9C,MAE9CtH,KAAKuH,WACdR,EAASL,MAEuB,KAA7B3G,EAASC,KAAKuH,YACbR,EAASrF,KAETM,EAAUjC,EAASC,KAAK+B,SAAStC,OAAS,EAAIM,EAASC,KAAK+B,SAAS,GAAK,aAC9EgF,EAASmI,YAAW,QAAS,CAAEC,OAAQnN,MATgB,wBAAAoI,EAAA5C,SAAAyC,MAA1C,gBAAAI,GAAA,OAAAL,EAAAtC,MAAAC,KAAAnI,YAAA,KUYN+I,CAtBD,SAACpE,GAKX,OAAIA,EAAM8B,OACCV,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAUzJ,GAAI,aAIrBJ,EAAA1B,EAAAC,cAAA,WACIyB,EAAA1B,EAAAC,cAAA,mBACAyB,EAAA1B,EAAAC,cAAC4K,GAAD,CAAgBI,SAXP,SAACjO,GACdsD,EAAM/C,MAAMP,EAASQ,MAAOR,EAASS,SAAUT,EAASU,WAAYV,EAASW,UAUrC8E,WAAYnC,EAAMmC,gBCxC9D3E,GAAe,CACf0N,aAAa,EACbC,YAAa,MAwBFC,GArBI,WAAkC,IAAjClN,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,GACxB,QADiDnC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAClCyC,MACX,IAToB,sBAUhB,OAAOK,OAAA0F,EAAA,EAAA1F,CAAA,GACAH,EADP,CAEIgN,aAAa,IAErB,QAAS,OAAOhN,uBChBpBV,GAAe,GAOJ6N,GALQ,WAAkC,IAAjCnN,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,GAAyBnC,UAAAC,OAAA,GAAAD,UAAA,GAErD,OAAO6C,uBCMPoN,GAAWC,aAAgB,CAC3BC,YAAaC,KACbC,YAAazN,KACb0N,YAAaN,GACbjC,UAAWhD,EACX/B,KAAMP,EACN2G,KAAMmB,KACNC,IAAKT,KAGHU,GAAmB/K,OAAOgL,sCAAwC7B,KAIzD8B,GAFHC,aAAYX,GAAUQ,GAAiBI,aAAgBC,QCnBtDC,GAAe,SAACjI,GAEzB,OAAO,SAACnE,GACJ,OAAQoB,EAAA1B,EAAAC,cAACyB,EAAA1B,EAAM2M,SAAP,CAAgBC,SAAUlL,EAAA1B,EAAAC,cAACqK,GAAA,EAAD,OAC9B5I,EAAA1B,EAAAC,cAACwE,EAAcnE,yDCGZuM,GANA,SAACvM,GACZ,OAAOoB,EAAA1B,EAAAC,cAAA,OAAKC,UAAWC,KAAOjB,SAC1BwC,EAAA1B,EAAAC,cAAA,OAAK+B,IAAK8K,KAAU5K,IAAI,OCY1B6K,GAAmBvI,IAAMwI,KAAK,kBAAMtS,EAAAgO,EAAA,GAAAzM,KAAAvB,EAAA+P,KAAA,aACpCwC,GAAmBzI,IAAMwI,KAAK,kBAAMtS,EAAAgO,EAAA,GAAAzM,KAAAvB,EAAA+P,KAAA,aAEpCyC,8MAEJC,wBAA0B,SAACC,EAAQC,GACjCC,MAAM,sBACNC,QAAQC,IAAIJ,EAASC,uFAIrBvJ,KAAKxD,MAAMmN,gBACXpM,OAAOqM,iBAAiB,qBAAsB5J,KAAKqJ,wEAInD9L,OAAOsM,oBAAoB,qBAAsB7J,KAAKqJ,0DAKtD,OAAKrJ,KAAKxD,MAAMkL,YAGd9J,EAAA1B,EAAAC,cAAA,OAAKC,UAAU,eACbwB,EAAA1B,EAAAC,cAAC2N,EAAD,MACAlM,EAAA1B,EAAAC,cAAC4N,EAAD,MACAnM,EAAA1B,EAAAC,cAAA,OAAKC,UAAU,uBACbwB,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,KACE7J,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOuC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAMtM,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAUzJ,GAAI,gBAElDJ,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOwC,KAAK,oBAAoBC,OAAQtB,GAAaO,MAErDvL,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOwC,KAAK,sBAAsBC,OAAQtB,GAAaK,MAEvDrL,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOwC,KAAK,SAASC,OAAQ,kBAC3BtM,EAAA1B,EAAAC,cAACgO,GAAD,SAEFvM,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOwC,KAAK,SAASC,OAAQ,kBAC3BtM,EAAA1B,EAAAC,cAACiO,GAAD,SAGFxM,EAAA1B,EAAAC,cAACsL,EAAA,EAAD,CAAOwC,KAAK,KAAKC,OAAQ,kBACvBtM,EAAA1B,EAAAC,cAACkO,GAAD,YAtB0BzM,EAAA1B,EAAAC,cAACqK,GAAA,EAAD,aAlBtB9F,IAAMC,WAsDpB2J,GAAe5D,aACjB6D,IACA3J,YANsB,SAAClG,GAAD,MAAY,CAClCgN,YAAahN,EAAM2N,IAAIX,cAKE,CAAEiC,cLtDA,kBAAM,SAACvK,GAChC,IAAImK,EAAUnK,EAASL,KACvByL,QAAQC,IAAI,CAAClB,IAAUpR,KAAK,WACxBiH,EALH,CAAE5E,KAnBqB,8BKyETkM,CAGjB0C,IAWasB,GATI,SAAClO,GAElB,OAAQoB,EAAA1B,EAAAC,cAAC4B,EAAA,EAAD,KACNH,EAAA1B,EAAAC,cAACwO,EAAA,EAAD,CAAUnC,MAAOA,IACf5K,EAAA1B,EAAAC,cAACmO,GAAD,SC7ENM,IAASV,OACLtM,EAAA1B,EAAAC,cAAC0O,GAAD,MAAgBC,SAASC,eAAe,SnByHtC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM/S,KAAK,SAAAgT,GACjCA,EAAaC,gDoBnInB,IAAAC,EAAAzU,EAAA,GAAA0U,EAAA1U,EAAA2U,EAAAF,GAAAG,EAAA5U,EAAA,KAAA6U,EAAA7U,EAAA2U,EAAAC,GAAAE,EAAA9U,EAAA,KAAA+U,EAAA/U,EAAA2U,EAAAG,GAQelF,IAJC,SAAChK,GACb,OAAO8O,EAAApP,EAAAC,cAAA,OAAKC,UAAWC,IAAOlB,UAAW+C,IAAK/C,IAAWiD,IAAI,0BCJjE1H,EAAAC,QAAA,CAAkB2F,YAAA,kCAAAR,MAAA,4BAAAuL,iBAAA,uCAAAlK,mBAAA,8DCAlBzG,EAAAC,QAAA,CAAkBwO,UAAA,yBAAAM,eAAA,8BAAAV,YAAA,2BAAAlC,SAAA,6CCAlBnM,EAAAC,QAAA,CAAkBmH,OAAA,uBAAAG,WAAA,2BAAAI,WAAA,2BAAAK,QAAA,0DCDlB9H,EAAAE,EAAAC,EAAA,sBAAAqQ,IAAAxQ,EAAAE,EAAAC,EAAA,sBAAA6U,IAAO,IAAMxE,EAAW,SAAAyE,GACpB,IAAIA,EACJ,MAAO,qBAGED,EAAmB,SAACE,GAAD,OAAe,SAACD,GAC5C,GAAIA,EAAM/T,OAASgU,EAAW,uBAAA5T,OAAwB4T,EAAxB,0SCG9B9R,EAAe,CACf+R,MAAO,CACH,CAAE7R,GAAI,EAAGG,QAAS,eAAgB2R,WAAY,IAC9C,CAAE9R,GAAI,EAAGG,QAAS,sBAAuB2R,WAAY,KAEzDzS,QAAS,KACTT,OAAQ,IA4CCmT,EAAuB,SAACC,GAAD,MAAkB,CAAE1R,KAxDvC,WAwDuD0R,gBAI3DC,EAAY,SAACrT,GAAD,MAAa,CAAE0B,KA1DrB,aA0DuC1B,WAM7CsT,EAAiB,SAAC7T,GAAD,sBAAAkD,EAAAZ,OAAAwR,EAAA,EAAAxR,CAAAyR,EAAApQ,EAAAgD,KAAY,SAAAC,EAAOC,GAAP,IAAAhH,EAAA,OAAAkU,EAAApQ,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACjBzI,IAAW0B,WAAWJ,GADL,OAClCH,EADkCoH,EAAAG,KAEtCP,EAVwC,CAAE5E,KAzDrB,mBAyD6CjB,QAU1CnB,EAASC,OAFK,wBAAAmH,EAAAK,SAAAV,MAAZ,gBAAAW,GAAA,OAAArE,EAAAsE,MAAAC,KAAAnI,YAAA,IAIjBe,EAAY,SAACL,GAAD,sBAAA8J,EAAAxH,OAAAwR,EAAA,EAAAxR,CAAAyR,EAAApQ,EAAAgD,KAAY,SAAAoD,EAAOlD,GAAP,IAAAhH,EAAA,OAAAkU,EAAApQ,EAAAqD,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EACZzI,IAAW2B,UAAUL,GADT,OAC7BH,EAD6BqK,EAAA9C,KAEjCP,EAAS+M,EAAU/T,EAASC,OAFK,wBAAAoK,EAAA5C,SAAAyC,MAAZ,gBAAAI,GAAA,OAAAL,EAAAtC,MAAAC,KAAAnI,YAAA,IAKZgB,EAAe,SAACC,GAAD,sBAAAmH,EAAApF,OAAAwR,EAAA,EAAAxR,CAAAyR,EAAApQ,EAAAgD,KAAY,SAAAgB,EAAOd,GAAP,OAAAkN,EAAApQ,EAAAqD,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cAAAS,EAAAV,KAAA,EAAAU,EAAAT,KAAA,EAEXzI,IAAW4B,aAAaC,GAFb,OAGC,IAHDqH,EAAAR,KAGnBtH,KAAKuH,YACdR,EAAS+M,EAAUrT,IAJSqH,EAAAT,KAAA,eAAAS,EAAAV,KAAA,EAAAU,EAAAoM,GAAApM,EAAA,iCAAAA,EAAAN,SAAAK,EAAA,iBAAZ,gBAAAG,GAAA,OAAAJ,EAAAF,MAAAC,KAAAnI,YAAA,IAWfmB,EAAY,SAACwT,GAAD,sBAAA1L,EAAAjG,OAAAwR,EAAA,EAAAxR,CAAAyR,EAAApQ,EAAAgD,KAAU,SAAA6B,EAAO3B,GAAP,IAAAhH,EAAA,OAAAkU,EAAApQ,EAAAqD,KAAA,SAAAyB,GAAA,cAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,cAAAsB,EAAAtB,KAAA,EACVzI,IAAW+B,UAAUwT,GADX,OAGE,KAF7BpU,EAD2B4I,EAAArB,MAGlBtH,KAAKuH,YACdR,EA1BqC,CAAE5E,KA5DpB,qBA4D8CyK,OA0BvC7M,EAASC,KAAKA,KAAK4M,SAJlB,wBAAAjE,EAAAnB,SAAAkB,MAAV,gBAAAE,GAAA,OAAAH,EAAAf,MAAAC,KAAAnI,YAAA,IAOZyB,EAAc,SAACC,GAAD,sBAAAkT,EAAA5R,OAAAwR,EAAA,EAAAxR,CAAAyR,EAAApQ,EAAAgD,KAAa,SAAAwN,EAAOtN,EAAUuN,GAAjB,IAAApU,EAAAH,EAAA,OAAAkU,EAAApQ,EAAAqD,KAAA,SAAAqN,GAAA,cAAAA,EAAAnN,KAAAmN,EAAAlN,MAAA,cAC9BnH,EAASoU,IAAW9L,KAAKtI,OADKqU,EAAAlN,KAAA,EAEbzI,IAAWqC,YAAYC,GAFV,UAIH,KAF3BnB,EAF8BwU,EAAAjN,MAIvBtH,KAAKuH,WAJkB,CAAAgN,EAAAlN,KAAA,QAKhCN,EAASgN,EAAe7T,IALQqU,EAAAlN,KAAA,uBAOhCN,EAASmI,YAAW,eAAgB,CAAEC,OAAQpP,EAASC,KAAK+B,SAAS,MAPrCwS,EAAAC,OAAA,SAQzBrC,QAAQsC,OAAO1U,EAASC,KAAK+B,SAAS,KARb,yBAAAwS,EAAA/M,SAAA6M,MAAb,gBAAA/J,EAAAiE,GAAA,OAAA6F,EAAA1M,MAAAC,KAAAnI,YAAA,IAYZoQ,IA1FQ,WAAkC,IAAjCvN,EAAiC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBmC,EAAcW,EAAW9C,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAQ4C,EAAOH,MACX,IAjBS,WAkBL,IAAIuS,EAAU,CACV7S,GAAI,EACJG,QAASM,EAAOuR,YAChBF,WAAY,GAEhB,OAAOnR,OAAAmS,EAAA,EAAAnS,CAAA,GACAH,EADP,CAEIqR,MAAK,GAAA7T,OAAA2C,OAAAoS,EAAA,EAAApS,CAAMH,EAAMqR,OAAZ,CAAmBgB,IACxBb,YAAa,KAGrB,IA5BiB,mBA6Bb,OAAOrR,OAAAmS,EAAA,EAAAnS,CAAA,GACAH,EADP,CAEInB,QAASoB,EAAOpB,UAExB,IAhCW,aAiCP,OAAOsB,OAAAmS,EAAA,EAAAnS,CAAA,GACAH,EADP,CAEI5B,OAAQ6B,EAAO7B,SAGvB,IArCY,cAsCR,OAAO+B,OAAAmS,EAAA,EAAAnS,CAAA,GACAH,EADP,CAEIqR,MAAOrR,EAAMqR,MAAM/I,OAAO,SAAAxK,GAAI,OAAIA,EAAK0B,KAAOS,EAAOuS,WAG7D,IA1CmB,qBA2Cf,OAAOrS,OAAAmS,EAAA,EAAAnS,CAAA,GACAH,EADP,CAEInB,QAAQsB,OAAAmS,EAAA,EAAAnS,CAAA,GAAMH,EAAMnB,QAAb,CAAsB0L,OAAQtK,EAAOsK,WAGpD,QAAS,OAAOvK","file":"static/js/main.8971c7cc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.471a1ad3.png\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"3bf7f882-c24f-4ac0-a51f-310107aa0c71\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => { return response.data })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => { return response.data })\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => { return response.data })\r\n    },\r\n    getProfile(userId) {\r\n        profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status });\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(\"profile\", profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me');\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', { email, password, rememberMe, captcha });\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login');\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('security/get-captcha-url');\r\n    }\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        { id: 1, name: 'Masha' },\r\n        { id: 2, name: 'Sonya' }\r\n    ],\r\n    messages: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Bye' },\r\n        { id: 3, message: 'Nope' }\r\n    ],\r\n    newMessageBody: ''\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 6, message: body }]\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/logo.375ccb88.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2OWrN\",\"pageNumber\":\"Paginator_pageNumber__O-RWa\",\"selectedPage\":\"Paginator_selectedPage__4GqE1\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.eded90f3.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1StiV\"};","module.exports = __webpack_public_path__ + \"static/media/404.3cdc4916.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NotFound_wrapper__3fxxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__18twc\",\"item\":\"Navbar_item__3ftT0\",\"activeLink\":\"Navbar_activeLink__3wzE8\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {hasError && <span>{error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl {...props}><textarea {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl {...props}><input {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (<div className={styles.formControlWrapper}>\r\n    <Field placeholder={placeholder} name={name}\r\n        component={component} validate={validators}\r\n        {...props} />\r\n    {text}\r\n</div>)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport classes from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/Button';\r\nimport logo from '../../assets/images/logo.png';\r\n\r\nconst Header = (props) => {\r\n    return (<header className={classes.header}>\r\n        <NavLink to={'/'}>\r\n            <div className={classes.titleBlock}>\r\n                <img src={logo} alt=\"\" />\r\n                <h5>Social network</h5>\r\n            </div>\r\n        </NavLink>\r\n        <div className={classes.loginBlock}>\r\n            {\r\n                props.isAuth\r\n                    ? <div>\r\n                        <NavLink to={'/profile'}>{props.login}</NavLink> - <Button variant=\"danger\" onClick={props.logout} className={classes.authBtn}>Log  out</Button>\r\n                    </div>\r\n                    : <NavLink to={'/login'}>\r\n                        <Button variant=\"success\" onClick={props.logout} className={classes.authBtn}>Login</Button>\r\n                    </NavLink>\r\n\r\n            }\r\n        </div>\r\n    </header>)\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPCTHA_URL_SUCCESS ='samurai-network/auth/GET_CAPCTHA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null then captcha is not required\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPCTHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n    ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth }\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n    ({ type: GET_CAPCTHA_URL_SUCCESS, payload: { captchaUrl }\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, passowrd, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, passowrd, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if(response.data.resultCode === 10){\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\r\nimport classes from './Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return (<nav className={classes.nav}>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/dialogs\" activeClassName={classes.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/news\" activeClassName={classes.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/music\" activeClassName={classes.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={classes.item}>\r\n            <NavLink to=\"/settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n        </div>\r\n    </nav>)\r\n}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(user => {\r\n        if (user[objPropName] === itemId) {\r\n            return { ...user, ...newObjProps }\r\n        }\r\n        return user;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/object-helpers';\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\"\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING = \"TOGGLE_IS_FOLLOWING\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id !== action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING, isFetching, userId });\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode === 0) dispatch(actionCreator(userId));\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from \"classnames\";\r\nimport Pagination from 'react-bootstrap/Pagination';\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i);\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <Pagination className={cn(styles.paginator)}>\r\n            {portionNumber > 1 &&\r\n                <Pagination.Prev onClick={() => { setPortionNumber(portionNumber - 1) }} />\r\n            }\r\n            {pages\r\n                .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n                .map((page) => {\r\n                    return <Pagination.Item active={currentPage === page}\r\n                        key={page}\r\n                        onClick={(e) => {\r\n                            onPageChanged(page)\r\n                        }}>{page}</Pagination.Item>\r\n                })\r\n            }\r\n            {portionCount > portionNumber &&\r\n                <Pagination.Next onClick={() => { setPortionNumber(portionNumber + 1) }} />\r\n            }\r\n        </Pagination>\r\n    )\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Button from 'react-bootstrap/Button';\r\nimport cn from \"classnames\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n    return (<div className={cn(styles.userWrapper, { [styles.followed]: user.followed })}>\r\n        <span>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} alt=\"\" />\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <Button variant=\"danger\" disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                        unfollow(user.id);\r\n                    }}>Unfollow</Button>\r\n                    : <Button variant=\"success\" disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                        follow(user.id);\r\n                    }}>Follow</Button>}\r\n            </div>\r\n        </span>\r\n        <span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n            <span>\r\n                <div>{\"user.location.country\"}</div>\r\n                <div>{\"user.location.city\"}</div>\r\n            </span>\r\n        </span>\r\n    </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\nimport styles from \"./users.module.css\";\r\n\r\nlet Users = ({ currentPage, onPageChanged, pageSize, totalUsersCount, ...props }) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount}\r\n            onPageChanged={onPageChanged} pageSize={pageSize} />\r\n        <div className={styles.usersContainer}>{\r\n            props.users.map(user =>\r\n                <User key={user.id} user={user}\r\n                    followingInProgress={props.followingInProgress}\r\n                    follow={props.follow} unfollow={props.unfollow}\r\n                />\r\n            )\r\n        }</div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(user => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport { follow, unfollow, setUsers, setCurrentPage, toggleFollowingProgress, requestUsers } from '../../redux/users-reducer';\r\nimport { connect } from 'react-redux';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users\r\n                currentPage={this.props.currentPage}\r\n                pageSize={this.props.pageSize}\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateTopProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateTopProps, {\r\n        follow,\r\n        unfollow,\r\n        setUsers,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        requestUsers\r\n    })\r\n)(UsersContainer);","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from '../common/FormsControls/FormControls.module.css';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Email\", \"email\", [required], Input)}\r\n            {createField(\"Password\", \"password\", [required], Input, { type: \"password\" })}\r\n            {createField(\"rememberMe\", \"checkbox\", [], Input, { type: \"checkbox\" }, \"remember me\")}\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"\" />}\r\n            {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input)}\r\n\r\n            {error && <div className={styles.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <Button variant=\"success\" type=\"submit\">Login</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () =>\r\n    ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    })\r\n}\r\n\r\nexport default appReducer;","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-recuder';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebarPage: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return (<React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>)\r\n    };\r\n}","import React from 'react';\r\nimport notFound from '../../../assets/images/404.png';\r\nimport styles from \"./NotFound.module.css\";\r\n\r\nlet NotFound = (props) => {\r\n    return <div className={styles.wrapper}>\r\n        <img src={notFound} alt=\"\" />\r\n    </div>\r\n}\r\n\r\nexport default NotFound;","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter, Switch, Redirect } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializeApp } from './redux/app-recuder';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { withSuspense } from './hoc/withSuspense';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport NotFound from \"./components/common/NotFound/NotFound\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\nclass App extends React.Component {\r\n\r\n  catchAllUnhandledErrors = (reason, promise) => {\r\n    alert(\"Some error occured\");\r\n    console.log(reason + promise);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) return <Preloader />\r\n\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route exact path='/' render={() => <Redirect to={\"/profile\"} />}\r\n            />\r\n            <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}\r\n            />\r\n            <Route path='/dialogs/:dialogId?' render={withSuspense(DialogsContainer)}\r\n            />\r\n            <Route path='/users' render={() =>\r\n              <UsersContainer />}\r\n            />\r\n            <Route path='/login' render={() =>\r\n              <LoginPage />\r\n            }\r\n            />\r\n            <Route path='/*' render={() =>\r\n              <NotFound />\r\n            }\r\n            />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n});\r\n\r\nlet AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n\r\nconst SamuraiApp = (props) => {\r\n\r\n  return (<HashRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </HashRouter>)\r\n}\r\n\r\nexport default SamuraiApp;","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiApp from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <SamuraiApp />, document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.svg';\r\nimport styles from \"./Preloader.module.css\";\r\n\r\nlet Preloader = (props) => {\r\n    return <img className={styles.preloader} src={preloader} alt=\"\" />\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__2YSCX\",\"error\":\"FormControls_error__11TJq\",\"formSummaryError\":\"FormControls_formSummaryError__2rPal\",\"formControlWrapper\":\"FormControls_formControlWrapper__xbtcz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__qnDVx\",\"usersContainer\":\"users_usersContainer__BfwAT\",\"userWrapper\":\"users_userWrapper__m1IR0\",\"followed\":\"users_followed__lbgT2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3HEWE\",\"titleBlock\":\"Header_titleBlock__1dzGQ\",\"loginBlock\":\"Header_loginBlock__vR7Ox\",\"authBtn\":\"Header_authBtn__2qYBG\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import { profileAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, message: \"How are you?\", likesCount: 45 },\r\n        { id: 2, message: \"It is my first post\", likesCount: 83 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.postId)\r\n            }\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                profile: { ...state.profile, photos: action.photos }\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\r\n\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\n\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\n\r\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0)\r\n            dispatch(setStatus(status));\r\n    }\r\n    catch (error) {\r\n        \r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n\r\n    if (response.data.resultCode === 0)\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile);\r\n\r\n    if (response.data.resultCode === 0)\r\n        dispatch(getUserProfile(userId));\r\n    else {\r\n        dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}